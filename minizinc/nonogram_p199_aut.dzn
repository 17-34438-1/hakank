%% Nonogram problem: P199, difficulty 8
%% From http://87.230.22.228/examples/nono_regular.ecl.txt
%% ROW RULES
row_max = 20;
row_states = array2d(1..row_total_states, 1..2, [
% pattern 0,0,0,1,1,4,
% tmp: dummy 0 1 0 1 0 1 1 1 1 0
%
1,2,
3,0,
3,4,
5,0,
5,6,
0,7,
0,8,
0,9,
9,0,

% pattern 0,0,0,0,1,6,
% tmp: dummy 0 1 0 1 1 1 1 1 1
%
1,2,
3,0,
3,4,
0,5,
0,6,
0,7,
0,8,
0,9,
9,0,

% pattern 1,1,1,1,2,3,
% tmp: dummy 0 1 0 1 0 1 0 1 0 1 1 0 1 1 1 0
%
1,2,
3,0,
3,4,
5,0,
5,6,
7,0,
7,8,
9,0,
9,10,
0,11,
12,0,
12,13,
0,14,
0,15,
15,0,

% pattern 0,0,1,1,2,3,
% tmp: dummy 0 1 0 1 0 1 1 0 1 1 1 0
%
1,2,
3,0,
3,4,
5,0,
5,6,
0,7,
8,0,
8,9,
0,10,
0,11,
11,0,

% pattern 0,0,3,1,2,3,
% tmp: dummy 0 1 1 1 0 1 0 1 1 0 1 1 1 0
%
1,2,
0,3,
0,4,
5,0,
5,6,
7,0,
7,8,
0,9,
10,0,
10,11,
0,12,
0,13,
13,0,

% pattern 0,0,4,5,2,2,
% tmp: dummy 0 1 1 1 1 0 1 1 1 1 1 0 1 1 0 1 1 0
%
1,2,
0,3,
0,4,
0,5,
6,0,
6,7,
0,8,
0,9,
0,10,
0,11,
12,0,
12,13,
0,14,
15,0,
15,16,
0,17,
17,0,

% pattern 0,0,0,7,3,2,
% tmp: dummy 0 1 1 1 1 1 1 1 0 1 1 1 0 1 1 0
%
1,2,
0,3,
0,4,
0,5,
0,6,
0,7,
0,8,
9,0,
9,10,
0,11,
0,12,
13,0,
13,14,
0,15,
15,0,

% pattern 0,0,3,5,1,2,
% tmp: dummy 0 1 1 1 0 1 1 1 1 1 0 1 0 1 1 0
%
1,2,
0,3,
0,4,
5,0,
5,6,
0,7,
0,8,
0,9,
0,10,
11,0,
11,12,
13,0,
13,14,
0,15,
15,0,

% pattern 0,0,2,2,4,1,
% tmp: dummy 0 1 1 0 1 1 0 1 1 1 1 0 1 0
%
1,2,
0,3,
4,0,
4,5,
0,6,
7,0,
7,8,
0,9,
0,10,
0,11,
12,0,
12,13,
13,0,

% pattern 0,0,2,2,3,4,
% tmp: dummy 0 1 1 0 1 1 0 1 1 1 0 1 1 1 1 0
%
1,2,
0,3,
4,0,
4,5,
0,6,
7,0,
7,8,
0,9,
0,10,
11,0,
11,12,
0,13,
0,14,
0,15,
15,0,

% pattern 0,0,0,2,5,2,
% tmp: dummy 0 1 1 0 1 1 1 1 1 0 1 1 0
%
1,2,
0,3,
4,0,
4,5,
0,6,
0,7,
0,8,
0,9,
10,0,
10,11,
0,12,
12,0,

% pattern 0,0,2,1,5,1,
% tmp: dummy 0 1 1 0 1 0 1 1 1 1 1 0 1 0
%
1,2,
0,3,
4,0,
4,5,
6,0,
6,7,
0,8,
0,9,
0,10,
0,11,
12,0,
12,13,
13,0,

% pattern 0,0,2,2,3,1,
% tmp: dummy 0 1 1 0 1 1 0 1 1 1 0 1 0
%
1,2,
0,3,
4,0,
4,5,
0,6,
7,0,
7,8,
0,9,
0,10,
11,0,
11,12,
12,0,

% pattern 0,0,0,6,2,2,
% tmp: dummy 0 1 1 1 1 1 1 0 1 1 0 1 1 0
%
1,2,
0,3,
0,4,
0,5,
0,6,
0,7,
8,0,
8,9,
0,10,
11,0,
11,12,
0,13,
13,0,

% pattern 0,0,0,0,1,7,
% tmp: dummy 0 1 0 1 1 1 1 1 1 1
%
1,2,
3,0,
3,4,
0,5,
0,6,
0,7,
0,8,
0,9,
0,10,
10,0,

% pattern 0,0,0,2,2,2,
% tmp: dummy 0 1 1 0 1 1 0 1 1 0
%
1,2,
0,3,
4,0,
4,5,
0,6,
7,0,
7,8,
0,9,
9,0,

% pattern 0,0,0,0,1,4,
% tmp: dummy 0 1 0 1 1 1 1
%
1,2,
3,0,
3,4,
0,5,
0,6,
0,7,
7,0,

% pattern 0,0,0,3,1,1,
% tmp: dummy 0 1 1 1 0 1 0 1 0
%
1,2,
0,3,
0,4,
5,0,
5,6,
7,0,
7,8,
8,0,

% pattern 0,0,0,0,1,1,
% tmp: dummy 0 1 0 1
%
1,2,
3,0,
3,4,
4,0,

% pattern 0,0,0,0,1,1
% tmp: dummy 0 1 0 1
%
1,2,
3,0,
3,4,
4,0,

]);

row_max_state = 17;
row_total_states = 224;
row_num_patterns = 20;

row_num_states = [9,9,15,11,13,17,15,15,13,15,12,13,12,13,10,9,7,8,4,4]; % this is also the final state
row_start_where = [1,10,19,34,45,58,75,90,105,118,133,145,158,170,183,193,202,209,217,221];


% COL_RULES:

col_max = 20;

col_states = array2d(1..col_total_states, 1..2, [
% pattern 0,0,0,6,1,
% tmp: dummy 0 1 1 1 1 1 1 0 1
1,2,
0,3,
0,4,
0,5,
0,6,
0,7,
8,0,
8,9,
9,0,

% pattern 0,0,0,8,3,
% tmp: dummy 0 1 1 1 1 1 1 1 1 0 1 1 1
1,2,
0,3,
0,4,
0,5,
0,6,
0,7,
0,8,
0,9,
10,0,
10,11,
0,12,
0,13,
13,0,

% pattern 0,0,3,2,1,
% tmp: dummy 0 1 1 1 0 1 1 0 1 0
1,2,
0,3,
0,4,
5,0,
5,6,
0,7,
8,0,
8,9,
9,0,

% pattern 1,1,2,2,1,
% tmp: dummy 0 1 0 1 0 1 1 0 1 1 0 1 0
1,2,
3,0,
3,4,
5,0,
5,6,
0,7,
8,0,
8,9,
0,10,
11,0,
11,12,
12,0,

% pattern 1,2,2,1,1,
% tmp: dummy 0 1 0 1 1 0 1 1 0 1 0 1 0
1,2,
3,0,
3,4,
0,5,
6,0,
6,7,
0,8,
9,0,
9,10,
11,0,
11,12,
12,0,

% pattern 0,1,1,1,1,
% tmp: dummy 0 1 0 1 0 1 0 1 0
1,2,
3,0,
3,4,
5,0,
5,6,
7,0,
7,8,
8,0,

% pattern 0,0,0,2,3,
% tmp: dummy 0 1 1 0 1 1 1
1,2,
0,3,
4,0,
4,5,
0,6,
0,7,
7,0,

% pattern 0,4,1,2,2,
% tmp: dummy 0 1 1 1 1 0 1 0 1 1 0 1 1 0
1,2,
0,3,
0,4,
0,5,
6,0,
6,7,
8,0,
8,9,
0,10,
11,0,
11,12,
0,13,
13,0,

% pattern 0,0,5,2,1,
% tmp: dummy 0 1 1 1 1 1 0 1 1 0 1 0
1,2,
0,3,
0,4,
0,5,
0,6,
7,0,
7,8,
0,9,
10,0,
10,11,
11,0,

% pattern 0,0,8,1,1,
% tmp: dummy 0 1 1 1 1 1 1 1 1 0 1 0 1 0
1,2,
0,3,
0,4,
0,5,
0,6,
0,7,
0,8,
0,9,
10,0,
10,11,
12,0,
12,13,
13,0,

% pattern 0,0,0,7,2,
% tmp: dummy 0 1 1 1 1 1 1 1 0 1 1
1,2,
0,3,
0,4,
0,5,
0,6,
0,7,
0,8,
9,0,
9,10,
0,11,
11,0,

% pattern 0,0,3,5,2,
% tmp: dummy 0 1 1 1 0 1 1 1 1 1 0 1 1 0
1,2,
0,3,
0,4,
5,0,
5,6,
0,7,
0,8,
0,9,
0,10,
11,0,
11,12,
0,13,
13,0,

% pattern 0,0,0,2,5,
% tmp: dummy 0 1 1 0 1 1 1 1 1
1,2,
0,3,
4,0,
4,5,
0,6,
0,7,
0,8,
0,9,
9,0,

% pattern 0,0,2,1,4,
% tmp: dummy 0 1 1 0 1 0 1 1 1 1 0
1,2,
0,3,
4,0,
4,5,
6,0,
6,7,
0,8,
0,9,
0,10,
10,0,

% pattern 0,2,2,2,2,
% tmp: dummy 0 1 1 0 1 1 0 1 1 0 1 1 0
1,2,
0,3,
4,0,
4,5,
0,6,
7,0,
7,8,
0,9,
10,0,
10,11,
0,12,
12,0,

% pattern 2,2,1,1,1,
% tmp: dummy 0 1 1 0 1 1 0 1 0 1 0 1 0
1,2,
0,3,
4,0,
4,5,
0,6,
7,0,
7,8,
9,0,
9,10,
11,0,
11,12,
12,0,

% pattern 3,1,1,1,1,
% tmp: dummy 0 1 1 1 0 1 0 1 0 1 0 1 0
1,2,
0,3,
0,4,
5,0,
5,6,
7,0,
7,8,
9,0,
9,10,
11,0,
11,12,
12,0,

% pattern 0,5,4,2,1,
% tmp: dummy 0 1 1 1 1 1 0 1 1 1 1 0 1 1 0 1 0
1,2,
0,3,
0,4,
0,5,
0,6,
7,0,
7,8,
0,9,
0,10,
0,11,
12,0,
12,13,
0,14,
15,0,
15,16,
16,0,

% pattern 0,7,4,1,1,
% tmp: dummy 0 1 1 1 1 1 1 1 0 1 1 1 1 0 1 0 1 0
1,2,
0,3,
0,4,
0,5,
0,6,
0,7,
0,8,
9,0,
9,10,
0,11,
0,12,
0,13,
14,0,
14,15,
16,0,
16,17,
17,0,

% pattern 0,0,0,0,4
% tmp: dummy 0 1 1 1 1
1,2,
0,3,
0,4,
0,5,
5,0,

]);

col_num_patterns = 20;
col_max_state = 17;
col_total_states = 224;

col_num_states = [9,13,9,12,12,8,7,13,11,13,11,13,9,10,12,12,12,16,17,5]; % this is also the final state
col_start_where = [1,10,23,32,44,56,64,71,84,95,108,119,132,141,151,163,175,187,203,220];


